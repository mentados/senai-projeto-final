var freteproduto={init:function(t){if(t){var e=/^[0-9]*$/;jQuery("#postcode").mask("99999"),jQuery("#postcode2").mask("999").removeClass("no-display"),jQuery("#postcode").keyup(function(){5==jQuery(this).val().length&&-1!=jQuery(this).val().search(e)&&jQuery("#postcode2").focus()})}else jQuery("#postcode").mask("99999-999")},baseurl:function(t){return myurl=window.location,splited_url=myurl.toString().split("/"),final_url=splited_url[0]+"//"+splited_url[2],this.islocalhost(document.location.hostname)?final_url=splited_url[0]+"//"+splited_url[2]+"/"+splited_url[3]:final_url=splited_url[0]+"//"+splited_url[2],final_url+"/"+t},islocalhost:function(t){if("localhost"==t)return!0;exploded=t.split(".");for(var e=0;e<exploded.length;e++)if(isNaN(exploded[e]))return!1;return!0},onEnter:function(t){if(13==(t.keyCode?t.keyCode:t.charCode?t.charCode:t.which?t.which:void 0))return!0},enterrateevent:function(t){if(13==t.keyCode)return jQuery(".btn-frete").click(),!1},collectrates:function(){var form=new VarienForm("product_addtocart_form");if(form.validator.validate()){var form_bundle=jQuery("form#product_addtocart_form").serializeArray(),isBundle=0;if(bundle_objects=new Array,form_bundle.each(function(t){"bundle_option_qty"==t.name.substring(0,17)&&(isBundle=1,bundle_objects.push(t))}),isBundle){var product_id=jQuery(".product-id").val(),postcode=jQuery("#postcode").val(),qty=jQuery("#qty").val();void 0===qty&&(qty=1),data_to={product_id:product_id,qty:qty,postcode:postcode,bundle:bundle_objects}}else{var option=[],option_text={},radios=[];jQuery(".product-custom-option").each(function(t){if("radio"==jQuery(this).attr("type")){var e=jQuery(this).attr("name");-1==radios.indexOf(e)&&"checked"==jQuery(this).attr("checked")&&""!=jQuery(this).val()&&(option[option.length]=jQuery(this).val(),radios[radios.length]=e)}else if("checkbox"==jQuery(this).attr("type"))jQuery(this).is(":checked")&&(option[option.length]=jQuery(this).val());else if("multiple"==jQuery(this).attr("multiple"))jQuery(this).children().each(function(t){this.selected&&(option[option.length]=jQuery(this).val())});else if("text"==jQuery(this).attr("type")||jQuery(this).is("textarea")){var r=jQuery(this)[0].name,o=parseInt(r.replace(/[options\[\]]/g,""));option_text[o]=jQuery(this)[0].value}else""!=jQuery(this).val()&&(option[option.length]=jQuery(this).val())});var color_option=jQuery(".selected-color").attr("data-color"),price;"undefined"!=color_option&&(option[option.length]=color_option),price=jQuery(".product-shop .special-price .price").length>0?jQuery(".product-shop .special-price .price").html():jQuery(".product-shop .regular-price > .price").html();var qty=jQuery("#qty").val();void 0===qty&&(qty=1),data_to="product_id="+jQuery(".product-id").val(),data_to+="&postcode="+jQuery("#postcode").val(),data_to+="&qty="+qty,data_to+="&option="+option,data_to+="&price="+price,data_to+="&option_text="+JSON.stringify(option_text),getattr=freteproduto.getattributesvalue(),""!=getattr&&(data_to+="&"+getattr)}jQuery("#fp-loader").css("display","block"),jQuery("#shipping-rates").css("display","none"),ajax_request=jQuery.ajax({url:freteproduto.baseurl("freteproduto/index/index"),type:"POST",data:data_to}),ajax_request.done(function(response){var obj=eval("("+response+")");jQuery("#shipping-rates li").remove();for(var k=0;k<obj.length;k++)ul=jQuery("#shipping-rates"),li=jQuery("<li></li>"),li.html(obj[k]),ul.append(li),jQuery("#fp-loader").css("display","none"),jQuery("#shipping-rates").css("display","block")})}else swal("Ops...","Campos Obrigatórios não preenchidos!","error")},getattributesvalue:function(){for(var t=jQuery(".attrshipping"),e="",r=0;r<t.length;r++)t.length==r+1?e+="attr"+t.eq(r).html()+"="+jQuery("#attribute"+t.eq(r).html()).val():e+="attr"+t.eq(r).html()+"="+jQuery("#attribute"+t.eq(r).html()).val()+"&";return e}};